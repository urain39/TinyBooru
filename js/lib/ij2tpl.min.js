(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.IJ2TPL=e()}})(function(){var e,r,t;return function(){function c(o,a,f){function s(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};o[t][0].call(i.exports,function(e){var r=o[t][1][e];return s(r||e)},i,i.exports,c,o,a,f)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<f.length;e++)s(f[e]);return s}return c}()({1:[function(e,r,t){"use strict";t.__esModule=true;t.parse=t.Renderer=t.Context=t.escapeHTML=t.tokenize=t.version=void 0;t.version="0.0.3-dev";if(!Array.isArray){var n=Object.prototype.toString;Array.isArray=function(e){return n.call(e)==="[object Array]"}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\xA0\uFEFF]+|[\s\xA0\uFEFF]+$/g,"")}}var p={"?":0,"!":1,"*":2,"/":3,"#":5};function i(e,r,t){var n,i,o=[7,"^"],a=[];for(var f=0,s=0,u=e.length,c=r.length,l=t.length;f<u;){s=e.indexOf(r,f);if(s===-1){i=e.slice(f);if(i)o=[4,i],a.push(o);break}i=e.slice(f,s);s+=c;if(i)o=[4,i],a.push(o);f=e.indexOf(t,s);if(f===-1)throw new SyntaxError("No match prefix '"+r+"'");i=e.slice(s,f);f+=l;if(!i)continue;i=i.trim();n=i[0];switch(n){case"?":case"!":case"*":case"/":if(o[0]===4){if(/(?:^|[\n\r])[\t \xA0\uFEFF]+$/.test(o[1]))o[1]=o[1].replace(/[\t \xA0\uFEFF]+$/g,"");if(!o[1])a.pop()}if(f<u){switch(e[f]){case"\n":f+=1;break;case"\r":f+=e.charAt(f+1)==="\n"?2:1;break}}case"#":i=i.slice(1).trim();o=[p[n],i],a.push(o);break;case"-":break;default:o=[6,i],a.push(o);break}}return a}t.tokenize=i;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;","/":"&#x2F;"};function c(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return o[e]})}t.escapeHTML=c;var l=function(){function e(e,r){this.data=e;this.parent=r;this.cache={".":this.data}}e.prototype.resolve=function(e){var r,t,n=null,i=this;t=i.cache;if(t.hasOwnProperty(e)){n=t[e]}else{if(e.indexOf(".")>0){var o=void 0,a=e.split(".");o=a[0];for(;i;i=i.parent){r=i.data;if(r&&r.hasOwnProperty&&r.hasOwnProperty(o)){n=r[o];for(var f=1,s=a.length;f<s;f++){o=a[f];if(n&&n.hasOwnProperty&&n.hasOwnProperty(o)){n=n[o]}else{n=null;break}}break}}}else{for(;i;i=i.parent){r=i.data;if(r&&r.hasOwnProperty&&r.hasOwnProperty(e)){n=r[e];break}}}if(typeof n==="function")n=n(i);t[e]=n}return n};return e}();t.Context=l;var a=function(){function e(e){this.treeRoot=e}e.prototype.renderTree=function(e,r){var t,n="";for(var i=0,o=e;i<o.length;i++){var a=o[i];switch(a[0]){case 0:t=r.resolve(a[1]);if(!t)continue;else if(Array.isArray(t))for(var f=0,s=t;f<s.length;f++){var u=s[f];n+=this.renderTree(a[2],new l(u,r))}else n+=this.renderTree(a[2],new l(t,r));break;case 1:t=r.resolve(a[1]);if(!t||Array.isArray(t)&&t.length<1)n+=this.renderTree(a[2],r);break;case 4:n+=a[1];break;case 5:t=r.resolve(a[1]);if(t!=null)n+=t;break;case 6:t=r.resolve(a[1]);if(t!=null)n+=typeof t==="number"?t:c(t);break}}return n};e.prototype.render=function(e){return this.renderTree(this.treeRoot,new l(e,null))};return e}();t.Renderer=a;function f(e){var r,t=[],n=[],i=n;for(var o=0,a=e;o<a.length;o++){var f=a[o];switch(f[0]){case 0:case 1:i.push(f);r=f;t.push(r);i=r[2]=[];break;case 3:r=t.pop();if(!r||f[1]!==r[1])throw new SyntaxError("Unexpected token '<type="+f[0]+", value="+f[1]+">'");t.length>0?i=t[t.length-1][2]:i=n;break;default:i.push(f)}}if(t.length>0){r=t.pop();throw new SyntaxError("No match section '<type="+r[0]+", value="+r[1]+">'")}return n}function s(e,r,t){if(r===void 0){r="{"}if(t===void 0){t="}"}var n=f(i(e,r,t));return new a(n)}t.parse=s},{}]},{},[1])(1)});