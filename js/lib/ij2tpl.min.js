(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.IJ2TPL=e()}})(function(){var e,r,t;return function(){function l(i,a,f){function s(t,e){if(!a[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(e){var r=i[t][1][e];return s(r||e)},o,o.exports,l,i,a,f)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<f.length;e++)s(f[e]);return s}return l}()({1:[function(e,r,t){"use strict";t.__esModule=true;t.version="0.0.2-dev";if(!Array.isArray){var n=Object.prototype.toString;Array.isArray=function(e){return n.call(e)==="[object Array]"}}var c={"?":0,"!":1,"/":2,"#":4};function o(e,r,t){var n,o,i=[];for(var a=0,f=0,s=e.length,u=r.length,l=t.length;a<s;){f=e.indexOf(r,a);if(f===-1){o=e.slice(a);if(o.length>0)i.push([3,o]);break}o=e.slice(a,f);f+=u;if(o.length>0)i.push([3,o]);a=e.indexOf(t,f);if(a===-1)throw new SyntaxError("No match prefix '"+r+"'");o=e.slice(f,a);a+=l;if(o.length<1)continue;n=o[0];switch(n){case"?":case"!":case"/":case"#":o=o.slice(1);i.push([c[n],o]);break;case"-":break;default:i.push([5,o])}}return i}t.tokenize=o;var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;","/":"&#x2F;"};function l(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return i[e]})}var p=function(){function e(e,r){this.data=e;this.parent=r;this.cache={".":this.data}}e.prototype.resolve=function(e){var r,t,n=null,o=this;t=o.cache;if(t.hasOwnProperty(e)){n=t[e]}else{if(e.indexOf(".")>0){var i=void 0,a=e.split(".");i=a[0];for(;o;o=o.parent){r=o.data;if(r&&r.hasOwnProperty&&r.hasOwnProperty(i)){n=r[i];for(var f=1,s=a.length;f<s;f++){i=a[f];if(n&&n.hasOwnProperty&&n.hasOwnProperty(i)){n=n[i]}else{n=null;break}}break}}}else{for(;o;o=o.parent){r=o.data;if(r&&r.hasOwnProperty&&r.hasOwnProperty(e)){n=r[e];break}}}t[e]=n}return n};return e}();t.Context=p;var a=function(){function e(e){this.treeRoot=e}e.prototype.renderTree=function(e,r){var t,n="";for(var o=0,i=e;o<i.length;o++){var a=i[o];switch(a[0]){case 0:t=r.resolve(a[1]);if(!t)continue;if(Array.isArray(t))for(var f=0,s=t;f<s.length;f++){var u=s[f];n+=this.renderTree(a[2],new p(u,r))}else n+=this.renderTree(a[2],new p(t,r));break;case 1:t=r.resolve(a[1]);if(!t||Array.isArray(t)&&t.length<1)n+=this.renderTree(a[2],r);break;case 3:n+=a[1];break;case 4:t=r.resolve(a[1]);if(t!=null)n+=t;break;case 5:t=r.resolve(a[1]);if(typeof t==="function")t=t(r);if(t!=null)n+=typeof t==="number"?t:l(t);break}}return n};e.prototype.render=function(e){return this.renderTree(this.treeRoot,new p(e,null))};return e}();t.Renderer=a;function f(e){var r,t=[],n=[],o=n;for(var i=0,a=e;i<a.length;i++){var f=a[i];switch(f[0]){case 0:case 1:o.push(f);r=f;t.push(r);o=r[2]=[];break;case 2:r=t.pop();if(!r||f[1]!==r[1])throw new SyntaxError("Unexpected token '<type="+f[0]+", value="+f[1]+">'");t.length>0?o=t[t.length-1][2]:o=n;break;default:o.push(f)}}if(t.length>0){r=t.pop();throw new SyntaxError("No match section '<type="+r[0]+", value="+r[1]+">'")}return n}function s(e,r,t){if(r===void 0){r="{"}if(t===void 0){t="}"}var n=f(o(e,r,t));return new a(n)}t.parse=s},{}]},{},[1])(1)});