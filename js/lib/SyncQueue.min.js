!function(t){"use strict";function e(){var t=this;t._queue=[],t._result=null,t._isLocked=!1}function u(t){return this._queue.push(t),this}function o(){var e=this,t=null,u={finish:function(){e.run()},repeat:function(){e._queue.unshift(t),e.run()},complete:function(){e.destroy()},getResult:function(){return e._result},setResult:function(t){e._result=void 0!==t?t:null}};e._isLocked?setTimeout(function(){e.run()},0):0<e._queue.length?(t=e._queue.shift())(u):u.complete()}e.prototype.add=u,e.prototype.lock=function(){this._isLocked=!0},e.prototype.unlock=function(){this._isLocked=!1},e.prototype.destroy=function(){this._queue.length=0},e.prototype.run=o,e.prototype.init=u,e.prototype.then=u,e.prototype.fine=u,e.prototype.start=o,"object"==typeof exports?exports.SyncQueue=e:t.SyncQueue=e}(this);